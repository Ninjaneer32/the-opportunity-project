$tag-orange: #f91717;
$tag-green: #009964;
$tag-blue: #5d9eda;

.layout-coil {
  @include u-bg('base-darkest');
  @include u-text('white');
  @include white-links;
}

$coil-left-padding: 4;

/*****************
 * Typography
 ****************/
h2, h3 {
  color: color('base-darkest');
}
h2 {
  @include u-font('sans', 'xl');
}

.dashed {  // based on https://jsfiddle.net/j0y7uaqL/
  width: 100%;
  overflow: hidden;
  padding-left: 0 !important;
  &:before, &:after {
    content: "";
    display: inline-block;
    vertical-align: middle;
    border-bottom: 1px dashed color('base-light');
  }
  &:before {
    width: units($coil-left-padding) * .75;
    margin: 0 units($coil-left-padding) * .25 0 0;
  }
  &:after {
    width: 100%;
    margin: 0 -55% 0 units($coil-left-padding) * .25;
  }
}



/***************
 * Layout
 ****************/

.coil-header {
  @include u-position('sticky');
  @include white-links;
  @include u-border-bottom(1, 'white');
  @include u-padding-y(2);
}
.coil-navbar {
  @include u-padding-x(2);
  width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  a {
    text-transform: uppercase;
    @include u-font("mono", "3xs");
  }
}

.coil-section {
  > * {
    @include u-padding-x($coil-left-padding);
  }
  @include u-margin-y(8);
  @include u-border-top(1px, 'white');
  &:first-of-type {
    @include u-border-top(0);
  }
}


#galleryPlayPause {
  float: right;
  @include u-margin-right(5);
}

.coil-hero {
  @include u-margin-top(3);
  @include u-margin-x(2);
  @include u-maxw('tablet');
}

.coil-card-container {
  @include grid-col(4);
}
.coil-project-card {
  @include u-height('card-lg');
  @include u-padding(2);
  @include u-border('1px', 'black');
  @include u-radius('md');
  &__with-tags {
    @extend .coil-project-card;
    @include u-border(0);
  }
}

.project-tag {
  @include u-font('sans', '3xs');
  @include u-text('uppercase');
  @include u-padding-x('05');
  @include u-border('1px', solid);
  @include u-radius('pill');
  &__comm, &__faci, &__expe {
    @extend .project-tag;
  }
  &__comm {
    @include u-color('error-light');
  }
  &__faci {
    @include u-color('accent-cool-light')
  }
  &__expe {
    @include u-color('success');
  }
}

.coil-bio {
  @include grid-col(3);
}

.coil-team-email {
  @include u-font('sans', '3xs');
  overflow-wrap: anywhere;
}

.scrolling-gallery {
  height: 40rem;
}

/**********
 * BUTTONS
 ***********/

.coil-btn {
  text-decoration: none;
  padding: .3rem .5rem;
  &:hover, &:active {
    text-decoration: underline;
  }
  &__secondary-white {
    @extend .coil-btn;
    border: 1px dotted color('white');
    &:hover, &:active {
      @include u-border-color('primary-lightest');
    }
  }
  &__primary-white {
    @extend .coil-btn;
    color: color('base-darkest') !important;
    // @include u-color('base-darkest');
    @include u-bg('white');
    @include u-padding(1);
    @include u-text('uppercase');
    @include u-font('sans', 'xl');
    &:hover, &:active {
      @include u-color('base-darkest');
    }
  }
}

$on-screen-duration: 4s;
$wide-onscreen-duration: $on-screen-duration * 1.5;
$img-gap: 1.2;
$num-tiles: 12;
@mixin slide-anim {
  @for $i from 1 through 10 {
    &:nth-child(#{$i}) {
      animation: slide 2 * $on-screen-duration linear #{$i * $img-gap}s infinite;
    }
  }
}

$coil-tile-min-top: 140px;
$max-top-spacing: 100px; 
.scrolling-gallery-tile {
  @include u-position('absolute');
  display: table;
  top: $coil-tile-min-top + random($max-top-spacing);
  left: 110%;
  @include slide-anim;
  &:first-child {
    top: $coil-tile-min-top + 20px;
    animation: slide 2 * $on-screen-duration linear (-$on-screen-duration * .5) infinite;
    @include at-media('tablet-lg') {
      animation-delay: -$on-screen-duration * .66 * 1.5;
    }
  }
  &:nth-child(2) {
    top: $coil-tile-min-top + 50px;
    animation: slide 2 * $on-screen-duration linear (-$on-screen-duration * .2) infinite;
    @include at-media('tablet-lg') {
      animation-delay: -$on-screen-duration * .33 * 1.5;
    }
  }
  &:nth-child(3) {
    top: $coil-tile-min-top + 30px;
    animation: slide 2 * $on-screen-duration linear 0 infinite;
  }
  
  // &:nth-child(4) {
  //   top: $coil-tile-min-top + 40px;
  //   animation: slide 2 * $on-screen-duration linear 0s infinite;
  // }

  @include at-media('tablet-lg') {
    animation-duration: 3 * $on-screen-duration !important;
  }

  @media (prefers-reduced-motion: reduce) {
    animation: none;
    animation-play-state: 'paused' !important;
  }
}

@keyframes slide {
  0%    { left: 105% }
  50%  { left: -100%; opacity: 1; }
  50.1%{ opacity: 0% }
  100% {  left: 105%; opacity: 0% }
}